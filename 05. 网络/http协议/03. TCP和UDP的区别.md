## 传输层（TCP和UDP）

### TCP和UDP的区别

- TCP是**面向连接的、可靠的、基于字节流**的传输层协议
- UDP是一个**面向无连接**的传输层协议

>**面向连接如何理解？**
>
>TCP传输就像打电话，两边要喊“喂”，确保双方都听到的情况下，才说内容，如果某句话对方没有听清楚，对方会要求你重新说一次，直至对方清楚为止，打电话就是要双方说的每一句话都清清楚楚，而且收听者逻辑和意思是和讲话者保持一致的。
>
>UDP传输就像寄信，我只管把信写好，只管把信投到信箱里，至于投到信箱之后，邮递员什么时候来取，多少天到达，邮递员在邮递的过程中会不会弄丢，我是没有办法控制的，我能做的，只是把这封信投出去。

**详细区别：**

1.
    tcp基于连接，所以可靠性高；但也正因为如此，需要**三次握手**，重新确认等连接过程，所以实时性差，有延迟；

    udp基于无连接，所以可靠性低；但是因为没有连接的过程，所以实时性强

2.
    tcp连接只能是**一对一**的；udp支持一对一，一对多，多对多的交互通信
3.
    udp**传输数据容量**比tcp大

    在传输相同大小的数据时，tcp首部开销20字节；udp首部开销只有8个字节，tcp报头比udp复杂，故实际包含的用户数据较少。

4.
    TCP在IP协议的基础上添加了**序号机制、确认机制、超时重传机制**等，保证了传输的可靠性，不会出现丢包或乱序。所以TCP性能开销比较大。
    

    而UDP没有相关机制保证数据完整性，所以可能因为网络会有丢包现象，另外因为不管相关机制，所以性能消耗比TCP小得多

应用场景的区别：
    在不追求数据完整性的时候使用TCP；在追求实时性时候使用UDP

